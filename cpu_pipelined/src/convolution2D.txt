kernel DCD -1,0,1
REK R2,R0,R0
ADDI R1,R0,1
REK R3,R0,R1
ADDI R1,R1,1
REK R4,R0,R1
SUB R1,R1,R1
RKM R5,R0,R0
tag CMPI R6,640
BEQ inc
CMPI R7,480
BEQ exit
ADD R8,R8,R7
REP R9,R8,R6
ADDI R8,R8,1
REP R10,R8,R6
ADDI R8,R8,1
REP R11,R8,R6
SCL R9,R9,R2
SCL R10,R10,R3
SCL R11,R11,R4
ADD R9,R9,R10
ADD R9,R9,R11
DOT R9,R9,R5
SAP R12,R9
SUB R8,R8,R8
ADDI R6,R6,1
ADDI R12,R12,4
B tag
inc ADDI R7,R7,1
SUB R6,R6,R6
B tag
exit ADD R13,R13,R13